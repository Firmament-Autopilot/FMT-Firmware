import rtconfig
Import('RTT_ROOT')
from building import *

# get current directory
cwd = GetCurrentDir()

# The set of source files associated with this SConscript file.
src = []
src += Glob('wl32_ll_driver/src/*.c')

#add for startup script 
if rtconfig.CROSS_TOOL == 'gcc':
     src = src + ['CMSIS/WL/WL32F4xx/Source/GCC/startup_wl32f436.s']

src += Glob('CMSIS/WL/WL32F4xx/Source/system_wl32f436.c')

#add for DSP library
src += Glob('CMSIS/DSP_Lib/Source/FastMathFunctions/*f32.c')
src += Glob('CMSIS/DSP_Lib/Source/BasicMathFunctions/*f32.c')
src += Glob('CMSIS/DSP_Lib/Source/MatrixFunctions/*f32.c')
src += Glob('CMSIS/DSP_Lib/Source/SupportFunctions/*f32.c')

path = [cwd + '/wl32_ll_driver/inc', 
    cwd + '/CMSIS',
    cwd + '/CMSIS/WL/WL32F4xx/Include']

group = DefineGroup('WL32_StdPeriph', src, depend = [''], CPPPATH = path)

Return('group')
